<!DOCTYPE html><html lang="vi"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Có nên mua đất Hòa Lạc thời điểm này không?</title><meta name="description" content="Bài trụ cột cho người mới tìm hiểu Hòa Lạc, phân tích rõ ai nên/không nên xuống tiền và các hiểu lầm phổ biến."><meta property="og:title" content="Có nên mua đất Hòa Lạc thời điểm này không?"><meta property="og:description" content="Bài trụ cột cho người mới tìm hiểu Hòa Lạc, phân tích rõ ai nên/không nên xuống tiền và các hiểu lầm phổ biến."><meta property="og:type" content="website"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700&display=swap" rel="stylesheet"><style>:root{color-scheme:light;--bg: #f6f5f2;--text: #1b1b1b;--accent: #d44809;--accent-dark: #a43706;--muted: #5f5f5f;font-family:Manrope,Segoe UI,system-ui,-apple-system,BlinkMacSystemFont,sans-serif}*{box-sizing:border-box}body{margin:0;background:var(--bg);color:var(--text)}a{color:inherit;text-decoration:none}main{padding:0 1.5rem 4rem}section{margin:0 auto 4rem;max-width:1200px}.button{display:inline-flex;align-items:center;justify-content:center;gap:.35rem;border-radius:999px;padding:.9rem 1.8rem;font-weight:600;font-size:1rem;color:#fff;background:linear-gradient(135deg,var(--accent),var(--accent-dark));border:none;cursor:pointer;transition:transform .15s ease,box-shadow .15s ease}.button:hover{transform:translateY(-1px);box-shadow:0 20px 40px #d4480940}.tag{padding:.2rem .85rem;border-radius:999px;font-size:.8rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;background:#d448091f;color:var(--accent-dark)}.reading-shell{max-width:min(780px,92vw);margin:clamp(1.5rem,5vw,4rem) auto;background:#fff;padding:clamp(1.75rem,4vw,3rem);border-radius:1.6rem;box-shadow:0 24px 60px #00000014}.reading-meta{display:flex;flex-wrap:wrap;gap:.5rem 1rem;align-items:center;justify-content:space-between;margin-bottom:.75rem;font-size:.95rem;color:var(--muted)}.reading-meta p{margin:0;font-weight:600}.reading-title{margin:0 0 1.5rem;font-size:clamp(2rem,4vw,2.9rem);line-height:1.2}.reading-content{font-size:1.08rem;line-height:1.85;color:#232323}.reading-content p{margin:1.25rem 0}.reading-content ul,.reading-content ol{padding-left:1.3rem;margin:1.2rem 0}.reading-content li+li{margin-top:.35rem}.reading-content blockquote{margin:1.75rem 0;padding:1.2rem 1.5rem;background:#d4480914;border-left:4px solid var(--accent);border-radius:.75rem;font-style:italic}.reading-content img{width:100%;border-radius:1rem;margin:1.5rem 0}@media (max-width: 640px){.reading-shell{border-radius:1.1rem;padding:1.5rem;box-shadow:0 12px 36px #00000014}.reading-content{font-size:1rem}}
.lead-form[data-astro-cid-xyq5hly5]{background:#fff;color:var(--text);padding:2rem;border-radius:1.5rem;display:grid;gap:1.25rem}.lead-form[data-astro-cid-xyq5hly5] .field[data-astro-cid-xyq5hly5]{display:flex;flex-direction:column;gap:.6rem}.lead-form[data-astro-cid-xyq5hly5] fieldset[data-astro-cid-xyq5hly5]{border:1px solid rgba(15,23,42,.12);border-radius:1rem;padding:1rem 1.25rem;margin:0}.lead-form[data-astro-cid-xyq5hly5] legend[data-astro-cid-xyq5hly5],.lead-form[data-astro-cid-xyq5hly5] label[data-astro-cid-xyq5hly5]{font-weight:600}.lead-form[data-astro-cid-xyq5hly5] legend[data-astro-cid-xyq5hly5]{margin-bottom:.5rem}.option-grid[data-astro-cid-xyq5hly5]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:.75rem}.option[data-astro-cid-xyq5hly5]{border:1px solid rgba(15,23,42,.16);border-radius:.9rem;padding:.75rem .9rem;display:flex;gap:.65rem;font-size:.95rem;cursor:pointer;background:#fff;align-items:flex-start}.option[data-astro-cid-xyq5hly5] input[data-astro-cid-xyq5hly5]{margin-top:.15rem}.option-text[data-astro-cid-xyq5hly5]{display:flex;flex-direction:column;gap:.25rem}.option-text[data-astro-cid-xyq5hly5] span[data-astro-cid-xyq5hly5]{font-weight:600}.option-text[data-astro-cid-xyq5hly5] small[data-astro-cid-xyq5hly5]{font-size:.8rem;color:var(--muted)}.hint[data-astro-cid-xyq5hly5]{margin:0 0 .75rem;font-size:.85rem;color:var(--muted)}.lead-form[data-astro-cid-xyq5hly5] input[data-astro-cid-xyq5hly5],.lead-form[data-astro-cid-xyq5hly5] select[data-astro-cid-xyq5hly5],.lead-form[data-astro-cid-xyq5hly5] textarea[data-astro-cid-xyq5hly5]{border-radius:.75rem;border:1px solid rgba(15,23,42,.16);padding:.9rem 1rem;font-size:1rem;font-family:inherit}.lead-form[data-astro-cid-xyq5hly5] .hp[data-astro-cid-xyq5hly5]{display:none}.status[data-astro-cid-xyq5hly5]{min-height:1.2rem;color:var(--muted);font-size:.9rem}[data-astro-cid-xyq5hly5][data-lead-shell]{position:relative}[data-astro-cid-xyq5hly5][data-lead-shell].is-collapsed .lead-form[data-astro-cid-xyq5hly5]{display:none}.floating-cta[data-astro-cid-xyq5hly5]{position:fixed;bottom:1.5rem;right:1.5rem;background:#f97316;color:#fff;border:none;border-radius:999px;padding:.85rem 1.5rem;box-shadow:0 20px 35px #0f172a40;display:none;flex-direction:column;gap:.15rem;font-weight:600;cursor:pointer;z-index:50;max-width:260px;text-align:left}.floating-cta[data-astro-cid-xyq5hly5] small[data-astro-cid-xyq5hly5]{font-size:.8rem;font-weight:400}[data-astro-cid-xyq5hly5][data-lead-shell].cta-visible .floating-cta[data-astro-cid-xyq5hly5]{display:flex}[data-astro-cid-xyq5hly5][data-lead-shell] .floating-cta[data-astro-cid-xyq5hly5][aria-hidden=true],[data-astro-cid-xyq5hly5][data-lead-shell].is-expanded .floating-cta[data-astro-cid-xyq5hly5]{display:none}
.reading-cta[data-astro-cid-4sn4zg3r]{margin-top:4rem}
</style></head> <body> <header style="padding: 1.5rem 1.5rem 0;"> <div style="max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; gap: 1rem;"> <a href="/hoalac_marketing" style="font-size: 1.2rem; font-weight: 700; letter-spacing: 0.04em; text-transform: uppercase;">
Insight Hòa Lạc
</a> <nav style="display: flex; gap: 1rem; font-weight: 500;"> <a href="#lead-form">Form tư vấn</a> <a href="/hoalac_marketing/blog">Bài viết</a> </nav> </div> </header> <main>  <article class="reading-shell" data-astro-cid-4sn4zg3r> <div class="reading-meta" data-astro-cid-4sn4zg3r> <p class="tag" data-astro-cid-4sn4zg3r>co-nen-mua-hoa-lac / thi_truong</p> <p data-astro-cid-4sn4zg3r>14/1/2026</p> </div> <h1 class="reading-title" data-astro-cid-4sn4zg3r>Có nên mua đất Hòa Lạc thời điểm này không?</h1> <div class="reading-content" data-astro-cid-4sn4zg3r> <p>Đây là bài viết dành cho người mới bước vào thị trường, cần một góc nhìn tỉnh táo thay vì khẩu hiệu “mua là thắng”. Nội dung bên dưới bám sát dữ liệu hạ tầng và hành vi người mua thực tế, không chạy theo sóng tin đồn.</p>
<h2 id="vì-sao-hòa-lạc-được-nhắc-nhiều">Vì sao Hòa Lạc được nhắc nhiều</h2>
<ul>
<li><strong>Tốc độ hoàn thiện khung hạ tầng rõ ràng</strong>: Đại lộ Thăng Long, Quốc lộ 21, đường vành đai 4 và các tuyến kết nối Sơn Tây – Xuân Mai đã giải tỏa được điểm nghẽn di chuyển. Metro số 5 đang ở giai đoạn chuẩn bị đầu tư, tạo niềm tin dài hạn chứ không phải lời hứa suông.</li>
<li><strong>Cụm kinh tế tri thức hình thành</strong>: Khu Công nghệ cao, Đại học Quốc gia, Viettel, FPT, Phenikaa… đã đưa hàng chục nghìn lao động kỹ thuật về làm việc, tạo nhu cầu thật về ở, thuê và xây dựng hệ sinh thái dịch vụ phụ trợ.</li>
<li><strong>Quỹ đất lớn, giá còn “vệ tinh”</strong>: So với các quận ven Hà Nội, mặt bằng giá đất thổ cư ở Hòa Lạc vẫn thấp hơn 50–70%. Điều này giúp người mua lần đầu hoặc doanh nghiệp nhỏ có thể sở hữu diện tích lớn hơn mà không phải dùng đòn bẩy nặng.</li>
<li><strong>Được ưu tiên trong chiến lược đô thị vệ tinh</strong>: Hà Nội định hướng Hòa Lạc là cực tăng trưởng phía tây, nên các dự án hạ tầng, giáo dục, y tế đang được ưu tiên nguồn lực thay vì chỉ nằm trên giấy.</li>
</ul>
<h2 id="ai-mua-hòa-lạc-thì-hợp">Ai mua Hòa Lạc thì hợp</h2>
<ul>
<li><strong>Nhà đầu tư trung hạn 3–5 năm</strong>: Sẵn sàng “ôm đất” chờ dịch vụ hoàn thiện, không cần quay vòng vốn ngay nhưng muốn hưởng lợi khi hạ tầng chạy xong.</li>
<li><strong>Gia đình muốn không gian xanh cuối tuần</strong>: Có nhu cầu làm homestay/farmstay 300–500 m², ưu tiên thửa có đường vào >5 m và sẵn điện nước để thi công nhanh.</li>
<li><strong>Doanh nghiệp nhỏ cần kho xưởng nhẹ</strong>: Hưởng lợi từ giá đất còn mềm, chi phí thuê nhân công thấp, dễ kết nối với Quốc lộ 21 – Hòa Lạc High Tech Park.</li>
<li><strong>Người mua ở thật nhưng làm việc linh hoạt</strong>: Các gia đình trẻ làm việc hybrid có thể chấp nhận di chuyển 35–40 phút, đổi lấy môi trường yên tĩnh và diện tích lớn hơn.</li>
</ul>
<h2 id="ai-không-nên-mua">Ai KHÔNG nên mua</h2>
<ul>
<li><strong>Nhà đầu tư lướt sóng 3–6 tháng</strong>: Thanh khoản vẫn phụ thuộc vào tin quy hoạch, rất dễ bị kẹt nếu thị trường im ắng.</li>
<li><strong>Người dùng đòn bẩy cao</strong>: Room tín dụng cho đất ngoại thành bị kiểm soát chặt; lãi vay + chi phí cải tạo có thể “ăn” hết biên lợi nhuận.</li>
<li><strong>Người không thể quản lý tài sản</strong>: Đất để trống dài ngày dễ bị lấn chiếm, đặc biệt ở các thửa sâu trong làng hoặc sát đất nông nghiệp chưa ranh giới rõ.</li>
<li><strong>Người kỳ vọng tiện ích như nội đô trong 1–2 năm</strong>: Các dự án bệnh viện, trung tâm thương mại, trường quốc tế quy mô lớn vẫn đang làm thủ tục; nếu cần sống giữa hệ tiện ích hoàn chỉnh ngay thì chưa nên xuống tiền.</li>
</ul>
<h2 id="những-hiểu-lầm-phổ-biến">Những hiểu lầm phổ biến</h2>
<ol>
<li><strong>“Cứ gần Khu CNC là thắng”</strong> – Khoảng cách cần đo theo đường thực tế; nhiều lô nhìn gần nhưng bị chắn bởi đất quốc phòng nên muốn đi phải vòng xa.</li>
<li><strong>“Quy hoạch đã khóa, không rủi ro”</strong> – Một số phân khu mới dừng ở 1/2000, chưa có 1/500; khi mở đường liên xã, ranh giới sổ đỏ vẫn có thể bị điều chỉnh.</li>
<li><strong>“Kỹ sư kéo về ở ngay”</strong> – Đa số chuyên gia thuê căn hộ hoặc ký túc xá theo tuần; nhu cầu mua nhà ở thật tăng nhưng chuyển dịch chậm, không nên kỳ vọng dòng khách này lấp đầy ngay.</li>
<li><strong>“Đất nào cũng tách thửa được”</strong> – Quy định diện tích tối thiểu 60–120 m² tùy xã, cộng thêm yêu cầu mặt tiền >5 m; nhiều thửa vườn muốn lên thổ cư phải đóng phí cao và chờ xét duyệt dài ngày.</li>
</ol>
<h2 id="kết-luận-trung-tính">Kết luận trung tính</h2>
<ul>
<li>Hòa Lạc đang chuyển từ “câu chuyện kỳ vọng” sang giai đoạn hạ tầng hóa cụ thể; giá đã phản ánh một phần tiến độ, không còn rẻ cho mọi loại đất.</li>
<li>Người mua nên chuẩn bị vốn nhàn rỗi tối thiểu 24 tháng, kiểm tra pháp lý (quy hoạch, dòng sông, đất quốc phòng) trước khi cọc và có kịch bản thoát hàng rõ ràng.</li>
<li>Nếu mục tiêu là ở thật dài hạn, làm kho xưởng nhẹ hoặc farmstay, Hòa Lạc vẫn đáng cân nhắc so với các quận ven đã bão hòa.</li>
<li>Nếu mục tiêu là lợi nhuận ngắn hạn hoặc phải dựa vào tín dụng cao, nên quan sát thêm thay vì xuống tiền theo tâm lý đám đông.</li>
</ul>
<blockquote>
<p>“Trước khi quyết định mua, anh/chị có thể để lại vài thông tin, bên em giúp lọc xem mình có phù hợp với Hòa Lạc hay không.”</p>
</blockquote> </div> <div class="reading-cta" data-astro-cid-4sn4zg3r> ---
<section id="lead-form" style="background: #0f172a; color: #fff; padding: 3rem; border-radius: 1.5rem; margin-top: 3rem;" data-lead-shell data-endpoint="https://script.google.com/macros/s/AKfycbz75JPzDedPHf7wt97eUsUtgpp3A_cDoxXgSn4Ii02yjlLvpu5LDF2UBt00gvgeIsLd5w/exec" data-astro-cid-xyq5hly5> <div style="display: grid; gap: 2.5rem; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); align-items: center;" data-astro-cid-xyq5hly5> <div data-astro-cid-xyq5hly5> <p class="tag" style="background: rgba(255,255,255,0.15); color: #fff;" data-astro-cid-xyq5hly5>Lead Qualification</p> <h2 style="margin: 1rem 0 0;" data-astro-cid-xyq5hly5>Kiểm tra nhanh mức phù hợp với Hòa Lạc</h2> <p style="color: rgba(255,255,255,0.8);" data-astro-cid-xyq5hly5>Điền 5 câu để đội ngũ gợi ý khu vực và mức pháp lý khớp ngân sách của anh/chị trong 24h.</p> </div> <form class="lead-form" data-lead-form data-astro-cid-xyq5hly5> <fieldset class="field" data-astro-cid-xyq5hly5> <legend data-astro-cid-xyq5hly5>Anh/chị quan tâm đất Hòa Lạc để:</legend> <div class="option-grid" data-astro-cid-xyq5hly5> <label class="option" data-astro-cid-xyq5hly5> <input type="radio" name="intent" value="o_thuc" required data-astro-cid-xyq5hly5> <div class="option-text" data-astro-cid-xyq5hly5> <span data-astro-cid-xyq5hly5>Ở thật</span> </div> </label> <label class="option" data-astro-cid-xyq5hly5> <input type="radio" name="intent" value="dau_tu_trung_han" required data-astro-cid-xyq5hly5> <div class="option-text" data-astro-cid-xyq5hly5> <span data-astro-cid-xyq5hly5>Đầu tư trung hạn</span> </div> </label> <label class="option" data-astro-cid-xyq5hly5> <input type="radio" name="intent" value="luot_song" required data-astro-cid-xyq5hly5> <div class="option-text" data-astro-cid-xyq5hly5> <span data-astro-cid-xyq5hly5>Lướt sóng</span> </div> </label> </div> </fieldset> <fieldset class="field" data-astro-cid-xyq5hly5> <legend data-astro-cid-xyq5hly5>Tầm tài chính:</legend> <div class="option-grid" data-astro-cid-xyq5hly5> <label class="option" data-astro-cid-xyq5hly5> <input type="radio" name="budgetRange" value="<1.5" required data-astro-cid-xyq5hly5> <div class="option-text" data-astro-cid-xyq5hly5> <span data-astro-cid-xyq5hly5>&lt; 1,5 tỷ</span> </div> </label> <label class="option" data-astro-cid-xyq5hly5> <input type="radio" name="budgetRange" value="1.5-2.5" required data-astro-cid-xyq5hly5> <div class="option-text" data-astro-cid-xyq5hly5> <span data-astro-cid-xyq5hly5>1,5 – 2,5 tỷ</span> </div> </label> <label class="option" data-astro-cid-xyq5hly5> <input type="radio" name="budgetRange" value="2.5-3.5" required data-astro-cid-xyq5hly5> <div class="option-text" data-astro-cid-xyq5hly5> <span data-astro-cid-xyq5hly5>2,5 – 3,5 tỷ</span> </div> </label> <label class="option" data-astro-cid-xyq5hly5> <input type="radio" name="budgetRange" value=">3.5" required data-astro-cid-xyq5hly5> <div class="option-text" data-astro-cid-xyq5hly5> <span data-astro-cid-xyq5hly5>&gt; 3,5 tỷ</span> </div> </label> </div> </fieldset> <fieldset class="field" data-astro-cid-xyq5hly5> <legend data-astro-cid-xyq5hly5>Khu vực anh/chị ưu tiên:</legend> <p class="hint" data-astro-cid-xyq5hly5>Chọn tối đa 2 khu vực (nếu cần).</p> <div class="option-grid" data-required-group="areas" data-astro-cid-xyq5hly5> <label class="option" data-astro-cid-xyq5hly5> <input type="checkbox" name="areas" value="gan_dhqg" data-astro-cid-xyq5hly5> <div class="option-text" data-astro-cid-xyq5hly5> <span data-astro-cid-xyq5hly5>Gần ĐHQG</span> </div> </label> <label class="option" data-astro-cid-xyq5hly5> <input type="checkbox" name="areas" value="gan_cnc" data-astro-cid-xyq5hly5> <div class="option-text" data-astro-cid-xyq5hly5> <span data-astro-cid-xyq5hly5>Gần khu CNC</span> </div> </label> <label class="option" data-astro-cid-xyq5hly5> <input type="checkbox" name="areas" value="binh_yen_thach_hoa" data-astro-cid-xyq5hly5> <div class="option-text" data-astro-cid-xyq5hly5> <span data-astro-cid-xyq5hly5>Bình Yên – Thạch Hòa</span> </div> </label> <label class="option" data-astro-cid-xyq5hly5> <input type="checkbox" name="areas" value="tien_xuan_yen_binh" data-astro-cid-xyq5hly5> <div class="option-text" data-astro-cid-xyq5hly5> <span data-astro-cid-xyq5hly5>Tiến Xuân – Yên Bình</span> </div> </label> </div> </fieldset> <fieldset class="field" data-astro-cid-xyq5hly5> <legend data-astro-cid-xyq5hly5>Mức chấp nhận pháp lý:</legend> <div class="option-grid" data-astro-cid-xyq5hly5> <label class="option" data-astro-cid-xyq5hly5> <input type="radio" name="legalRisk" value="so_do_san" required data-astro-cid-xyq5hly5> <div class="option-text" data-astro-cid-xyq5hly5> <span data-astro-cid-xyq5hly5>Chỉ sổ đỏ</span> <small data-astro-cid-xyq5hly5>Nhận đất ở ngay, pháp lý chuẩn</small> </div> </label> <label class="option" data-astro-cid-xyq5hly5> <input type="radio" name="legalRisk" value="cho_len_tho_cu" required data-astro-cid-xyq5hly5> <div class="option-text" data-astro-cid-xyq5hly5> <span data-astro-cid-xyq5hly5>Chờ lên thổ cư</span> <small data-astro-cid-xyq5hly5>Chấp nhận 6–12 tháng làm thủ tục</small> </div> </label> <label class="option" data-astro-cid-xyq5hly5> <input type="radio" name="legalRisk" value="co_the_rui_ro" required data-astro-cid-xyq5hly5> <div class="option-text" data-astro-cid-xyq5hly5> <span data-astro-cid-xyq5hly5>Có thể rủi ro</span> <small data-astro-cid-xyq5hly5>Chấp nhận đất vườn, quy hoạch chờ</small> </div> </label> </div> </fieldset> <div class="field" data-astro-cid-xyq5hly5> <label data-astro-cid-xyq5hly5>Để lại Zalo / SĐT</label> <input type="tel" name="contact" required inputmode="tel" pattern="^(03|05|07|08|09|01[2689])[0-9]{8}$" placeholder="Zalo hoặc số điện thoại" data-astro-cid-xyq5hly5> </div> <input type="hidden" name="source" value="hoa-lac-landing" data-astro-cid-xyq5hly5> <input type="hidden" name="leadTag" value="pending_classification" data-lead-tag data-astro-cid-xyq5hly5> <input type="text" name="company" class="hp" tabindex="-1" autocomplete="off" data-astro-cid-xyq5hly5> <button class="button" type="submit" data-astro-cid-xyq5hly5>Gửi yêu cầu</button> <p class="status" data-status data-astro-cid-xyq5hly5></p> </form> </div> <button class="floating-cta" type="button" data-floating-cta aria-hidden="true" data-astro-cid-xyq5hly5> <span data-astro-cid-xyq5hly5>Đánh giá mức phù hợp</span> <small data-astro-cid-xyq5hly5>Trả lời 5 câu, nhận shortlist trong 24h</small> </button> </section>  <script type="module">
  const shell = document.querySelector('[data-lead-shell]');
  const form = shell?.querySelector('[data-lead-form]') ?? document.querySelector('[data-lead-form]');
  const status = shell?.querySelector('[data-status]') ?? document.querySelector('[data-status]');
  const floatingCta = shell?.querySelector('[data-floating-cta]') ?? document.querySelector('[data-floating-cta]');
  const endpoint = shell?.dataset.endpoint ?? '';
  const AREA_LIMIT = 2;
  const SCROLL_THRESHOLD = 0.65;
  const deferDisplay = shell?.dataset.defer === 'true';
  const leadTagInput = document.querySelector('[data-lead-tag]');
  const fallbackLeadTag = leadTagInput?.value ?? 'pending_classification';

  const areaCheckboxes = form?.querySelectorAll('input[name="areas"]') ?? [];

  const intentWeights = {
    o_thuc: 3,
    dau_tu_trung_han: 2,
    luot_song: 0
  };
  const budgetWeights = {
    '<1.5': 0,
    '1.5-2.5': 1,
    '2.5-3.5': 2,
    '>3.5': 3
  };
  const legalWeights = {
    so_do_san: 3,
    cho_len_tho_cu: 1,
    co_the_rui_ro: 0
  };
  const priorityAreas = ['gan_dhqg', 'gan_cnc'];

  function setCustomMessages() {
    if (!form) return;
    const REQUIRED_TEXT = 'Vui lòng điền thông tin này.';
    const PHONE_TEXT = 'Số liên hệ phải đủ 10 số và bắt đầu bằng 03, 05, 07, 08, 09 hoặc 01[2|6|8|9].';

    form.addEventListener('invalid', (event) => {
      const field = event.target;
      if (!(field instanceof HTMLInputElement || field instanceof HTMLTextAreaElement || field instanceof HTMLSelectElement)) {
        return;
      }
      if (field.validity.valueMissing) {
        field.setCustomValidity(REQUIRED_TEXT);
      } else if (field.type === 'tel' && field.validity.patternMismatch) {
        field.setCustomValidity(PHONE_TEXT);
      } else {
        field.setCustomValidity('');
      }
    }, true);

    form.addEventListener('input', (event) => {
      const field = event.target;
      if (field instanceof HTMLInputElement || field instanceof HTMLTextAreaElement || field instanceof HTMLSelectElement) {
        field.setCustomValidity('');
      }
    });
  }

  function computeLeadTag({ intent, budgetRange, legalRisk, areas }) {
    let score = 0;
    score += intentWeights[intent] ?? 0;
    score += budgetWeights[budgetRange] ?? 0;
    score += legalWeights[legalRisk] ?? 0;
    if (areas?.some((area) => priorityAreas.includes(area))) {
      score += 1;
    }

    if (intent === 'luot_song' && legalRisk === 'co_the_rui_ro') {
      return 'lead_cold';
    }
    if (score >= 6) {
      return 'lead_hot';
    }
    if (score >= 3) {
      return 'lead_warm';
    }
    return 'lead_cold';
  }

  function serializeForm(formElement) {
    const formData = new FormData(formElement);
    const data = Object.fromEntries(formData);
    const selectedAreas = formData.getAll('areas');
    if (selectedAreas.length > 0) {
      data.areas = selectedAreas.join(', ');
    }
    return data;
  }

  function handleAreaLimit(event) {
    if (!form) return;
    const checkedAreas = form.querySelectorAll('input[name="areas"]:checked');
    if (checkedAreas.length > AREA_LIMIT) {
      event.target.checked = false;
      if (status) {
        status.textContent = `Chỉ chọn tối đa ${AREA_LIMIT} khu vực.`;
      }
    }
  }

  areaCheckboxes.forEach((checkbox) => {
    checkbox.addEventListener('change', handleAreaLimit);
  });

  setCustomMessages();

  function handleScrollReveal() {
    if (!deferDisplay || !shell || !floatingCta) return;
    shell.classList.add('is-collapsed');

    const showCta = () => {
      if (!shell || !floatingCta) return;
      const maxScroll = document.documentElement.scrollHeight - window.innerHeight;
      const progress = maxScroll <= 0 ? 1 : window.scrollY / maxScroll;
      if (progress >= SCROLL_THRESHOLD) {
        shell.classList.add('cta-visible');
        floatingCta.removeAttribute('aria-hidden');
        window.removeEventListener('scroll', onScroll);
      }
    };

    let ticking = false;
    const onScroll = () => {
      if (ticking) return;
      ticking = true;
      requestAnimationFrame(() => {
        showCta();
        ticking = false;
      });
    };

    window.addEventListener('scroll', onScroll, { passive: true });
    setTimeout(showCta, 8000);

    const expandForm = () => {
      if (!shell) return;
      shell.classList.add('is-expanded');
      shell.classList.remove('is-collapsed');
      shell.classList.remove('cta-visible');
      floatingCta?.setAttribute('aria-hidden', 'true');
      const firstField = form?.querySelector('input, select, textarea');
      firstField?.focus();
      form?.scrollIntoView({ behavior: 'smooth', block: 'center' });
    };

    floatingCta?.addEventListener('click', expandForm);
  }

  handleScrollReveal();

  async function submitLead(event) {
    event.preventDefault();
    if (!form || !status) return;
    if (!form.reportValidity()) {
      return;
    }

    const selectedAreaNodes = form.querySelectorAll('input[name="areas"]:checked');
    if (selectedAreaNodes.length === 0) {
      status.textContent = "Vui lòng chọn ít nhất 1 khu vực ưu tiên.";
      return;
    }
    const selectedAreaValues = Array.from(selectedAreaNodes).map((input) => input.value);

    const now = new Date();
    const vnDateTime = now.toLocaleString('vi-VN', {
      year: 'numeric',
      month: '2-digit',
      day: '2-digit',
      hour: '2-digit',
      minute: '2-digit',
      hour12: false
    });

    const data = serializeForm(form);
    data.areas = selectedAreaValues.join(', ');
    const computedTag = computeLeadTag({
      intent: data.intent,
      budgetRange: data.budgetRange,
      legalRisk: data.legalRisk,
      areas: selectedAreaValues
    }) ?? fallbackLeadTag;
    data.leadTag = computedTag;
    if (typeof data.contact === 'string') {
      data.contact = data.contact.replace(/\s+/g, '').replace(/^0*/, (match) => (match ? '0' : ''));
    }
    if (leadTagInput) {
      leadTagInput.value = computedTag;
    }
    data.submittedAt = now.toISOString();
    data.submittedAtLocal = vnDateTime;

    if (data.company) {
      status.textContent = "Đã chặn spam.";
      return;
    }

    if (!endpoint) {
      status.textContent = "Chưa cấu hình PUBLIC_LEAD_ENDPOINT.";
      return;
    }

    status.textContent = "Đang gửi...";
    try {
      const body = new URLSearchParams();
      Object.entries(data).forEach(([key, value]) => {
        body.append(key, typeof value === 'string' ? value : String(value ?? ''));
      });

      const response = await fetch(endpoint, {
        method: 'POST',
        body
      });

      if (response.ok) {
        let payloadMessage = 'Đã nhận thông tin!';
        try {
          const payload = await response.json();
          if (payload?.message) payloadMessage = payload.message;
        } catch (parseErr) {
          console.warn('Không parse được payload, dùng message mặc định.', parseErr);
        }
        status.textContent = payloadMessage;
        form.reset();
        return;
      }

      throw new Error(`Request failed with status ${response.status}`);
    } catch (error) {
      console.error(error);
      if (error instanceof TypeError) {
        status.textContent = 'Đã nhận thông tin!';
      } else {
        status.textContent = "Không gửi được, vui lòng thử lại.";
      }
    }
  }

  form?.addEventListener('submit', submitLead);
</script> </div> </article>  </main> <footer style="padding: 2rem 1.5rem 3rem; background: #161616; color: #fff;"> <div style="max-width: 1200px; margin: 0 auto; display: flex; flex-wrap: wrap; gap: 1.5rem; align-items: center; justify-content: space-between;"> <div> <p style="margin: 0; font-weight: 600;">Insight Hòa Lạc © 2026</p> <p style="margin: 0.35rem 0 0; color: rgba(255,255,255,0.7);">
Landing page thử nghiệm GitHub Pages + funnel marketing.
</p> </div> <div style="display: flex; gap: 0.75rem;"> <a href="mailto:contact@example.com" class="tag">contact@example.com</a> <a href="https://t.me/" class="tag">Telegram</a> </div> </div> </footer> </body></html> 