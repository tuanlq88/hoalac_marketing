---
import "@styles/global.css";

interface Props {
  title?: string;
  description?: string;
}

const {
  title = "Insight Hòa Lạc",
  description = "Landing page phân tích thị trường địa ốc Hòa Lạc",
} = Astro.props;

const baseEnv = import.meta.env.BASE_URL ?? '/';
const basePath = baseEnv.endsWith('/') ? baseEnv.slice(0, -1) : baseEnv;
const homeHref = basePath || '/';
const blogHref = `${basePath}/blog`;
const navButtonStyle = [
  'display: inline-flex',
  'align-items: center',
  'gap: 0.3rem',
  'padding: 0.35rem 0.75rem',
  'border-radius: 999px',
  'border: 1px solid rgba(212, 72, 9, 0.3)',
  'background: rgba(212, 72, 9, 0.1)',
  'color: var(--accent-dark)',
  'font-weight: 600',
  'font-size: 0.9rem',
  'text-transform: uppercase',
  'letter-spacing: 0.04em',
  'text-decoration: none'
].join('; ');
const navButtonAccent = [
  navButtonStyle,
  'background: rgba(15, 23, 42, 0.1)',
  'border: 1px solid rgba(15, 23, 42, 0.2)',
  'color: #0f172a'
].join('; ');
const brandStyle = [
  'font-size: 1.15rem',
  'font-weight: 600',
  'letter-spacing: 0.02em',
  'text-transform: none',
  'font-family: "Manrope", system-ui, sans-serif',
  'color: #0f172a',
  'text-decoration: none'
].join('; ');
const navHoverStyle = 'transition: transform 150ms ease, background 150ms ease, color 150ms ease;';
---
<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title}</title>
    <meta name="description" content={description} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:type" content="website" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700&family=Playfair+Display:wght@500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body style="min-height: 100vh; display: flex; flex-direction: column;">
    <header style="padding: 1.5rem 1.5rem 0;">
      <div style="max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; gap: 1rem;">
        <a href={homeHref} style={`${brandStyle}; ${navHoverStyle}`}
          onmouseover="this.style.transform='translateY(-1px)'"
          onmouseout="this.style.transform='translateY(0)'">
          Insight Hòa Lạc
        </a>
        <nav style="display: flex; gap: 0.5rem; flex-wrap: wrap; justify-content: flex-end;">
          <a href="#lead-form" style={`${navButtonStyle}; ${navHoverStyle}`}
            onmouseover="this.style.background='rgba(212,72,9,0.18)'; this.style.transform='translateY(-1px)';"
            onmouseout="this.style.background='rgba(212,72,9,0.1)'; this.style.transform='translateY(0)';">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
              style="width: 1rem; height: 1rem;"
              aria-hidden="true"
            >
              <path d="M8 6h8" />
              <path d="M8 12h8" />
              <path d="M8 18h5" />
              <rect x="4" y="3" width="16" height="18" rx="2" ry="2" />
            </svg>
            <span>Form tư vấn</span>
          </a>
          <a href={blogHref} style={`${navButtonAccent}; ${navHoverStyle}`}
            onmouseover="this.style.background='rgba(15,23,42,0.2)'; this.style.transform='translateY(-1px)';"
            onmouseout="this.style.background='rgba(15,23,42,0.1)'; this.style.transform='translateY(0)';">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
              style="width: 1rem; height: 1rem;"
              aria-hidden="true"
            >
              <path d="M4 19.5C4 18.12 5.12 17 6.5 17h13" />
              <path d="M4 4.5C4 5.88 5.12 7 6.5 7h13" />
              <path d="M6.5 7C5.12 7 4 5.88 4 4.5V19.5C4 18.12 5.12 17 6.5 17" />
              <path d="M19.5 7C20.88 7 22 5.88 22 4.5V19.5C22 18.12 20.88 17 19.5 17" />
            </svg>
            <span>Bài viết</span>
          </a>
        </nav>
      </div>
    </header>
    <main style="flex: 1 0 auto; display: flex; flex-direction: column;">
      <slot />
    </main>
    <footer style="padding: 2rem 1.5rem 3rem; background: #161616; color: #fff; margin-top: auto;">
      <div style="max-width: 1200px; margin: 0 auto; display: flex; flex-wrap: wrap; gap: 1.5rem; align-items: center; justify-content: space-between;">
        <div>
          <p style="margin: 0; font-weight: 600;">Insight Hòa Lạc © {new Date().getFullYear()}</p>
          <p style="margin: 0.35rem 0 0; color: rgba(255,255,255,0.7);">
            Landing page thử nghiệm GitHub Pages + funnel marketing.
          </p>
        </div>
        <div style="display: flex; gap: 0.75rem;">
          <a href="mailto:contact@example.com" class="tag">contact@example.com</a>
          <a href="https://t.me/" class="tag">Telegram</a>
        </div>
      </div>
    </footer>
  </body>
</html>
