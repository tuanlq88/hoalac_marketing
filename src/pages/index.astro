---
import Layout from "@components/Layout.astro";
import Hero from "@components/Hero.astro";
import LeadForm from "@components/LeadForm.astro";
import ArticleList from "@components/ArticleList.astro";
import { getCollection } from "astro:content";

const articles = (await getCollection('articles')).sort((a, b) => (
  new Date(b.data.publishedAt).getTime() - new Date(a.data.publishedAt).getTime()
)).slice(0, 3);
---
<Layout>
  <Hero />
  <ArticleList articles={articles} />
  <LeadForm />
</Layout>
